<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>ПРИВЕТ!</title>    
    <link href="CSS/Main.css" rel="stylesheet">
</head>
<body>
    <!--Поле для карточек-->
    <!--<canvas height='500' width='500' id='CardField'>Обновите браузер</canvas>-->
    <div ID="DivCardField">
    </div>
    <!-- <script src="//ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>-->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script language="Javascript">
        class Card {

            constructor(name) {
                this.name = name;
                
            }

            Open() {
                alert("Карточка" + this.name + " открыта!");
            }
            Close() {
                alert("Карточка" + this.name + " закрыта!");
            }

        }

        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min)) + min;
        }
        
        //let user = new User("Вася");
        //user.sayHi(); // Вася

        var rows = 6, columns = 6;

        var arr = new Array(rows * columns);
        for (var i = 0; i < rows * columns; i++) {
            arr[i*2] = (i+1);
            arr[i*2+1] = (i+1);
        }

        for (var i = (arr.length−1); i >= 1; i--) {
            var j = getRandomInt(0, i+1);
            // обменять значения data[j] и data[i]
            var temp = arr[j];
            arr[j] = arr[i];
            arr[i] = temp;
        }
        alert(arr);
        for (var i = 0; i < rows; i++) {
            var r = getRandomInt(i, max);
        }
        var field = new Array(rows, columns);
        var maxValue = (rows * columns) / 2;
        getRandomInt(1,(rows * columns) / 2);
        //заполянем массив-поле карточками
        for (var i = 0; i < rows; i++) {

            for (var j = 0; j < columns; j++) {
                //помещаем карточки на поле
                field[i, j] = new Card("Card" + i.toString() + j.toString());
            }
        }

        //Визуализация
        //var grField = document.getElementById("CardField");
        //ctx = example.getContext('2d');
        //ctx.fillRect(0, 0, example.width, example.height);
        //Визуализаяция div'ами
        //Рисуем поле
        var divField = document.getElementById('DivCardField');
   


        for (var i = 0; i < field.length; i++) {

            var divCardRow = document.createElement('div');
            divCardRow.className = 'row';
            divField.appendChild(divCardRow);
            for (var j = 0; j < field.length; j++) {
                //помещаем карточки на поле
                var divCard = document.createElement('div');
                divCard.className = 'card closed';
                divCard.id = field[i, j].name;
                divCard.innerText = '-';
                //Событие клика


                divCardRow.appendChild(divCard);

                field[i, j] = new Card("Card" + i.toString() + j.toString());
            }
        }
        $(document).on('click','.card.closed', function () {

           // alert('Clicked');
            //$(this).addClass("opened").removeClass("closed").delay(5000).addClass("closed").removeClass("opened");
            //$(this).delay(5000);
            $(this).addClass("opened").removeClass("closed");
            setTimeout(function (e) {
                $(e).addClass("closed").removeClass("opened");
            }, 5000,this);
           
            //$(this).switchClass("opened", "closed", 1000, easeInOutQuad).dealy(1000).switchClass("closed", "opened", 1000, easeInOutQuad);
        });






    </script>

</body>
</html>